<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css">
        <link rel="stylesheet" href="css/qgis2web.css"><link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/filter.css">
        <link rel="stylesheet" href="css/nouislider.min.css">
        <link rel="stylesheet" href="css/leaflet-measure.css">
        <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }

        a {
            color: #0000ee;
            text-shadow: 0.3px 0.3px rgb(80, 80, 80);
            font-weight: bold;
        }

        .legend {
            text-shadow: 0.3px 0.3px rgb(80, 80, 80);
            color: #551A8B;
            font-weight: bold;
        }

        #sel_NR_DR, #sel_RODZ_TR, #sel_WOJ_TR {
            padding: 10px;
            font-size: 14px;
            border: 1px solid #8888ee;
            border-radius: 5px;
            appearance: none;
            overflow: auto;
        }

        #sel_NR_DR::-ms-expand, #sel_RODZ_TR::-ms-expand, #sel_WOJ_TR::-ms-expand {
            display: none;
        }

        #sel_NR_DR::-webkit-scrollbar, #sel_RODZ_TR::-webkit-scrollbar, #sel_WOJ_TR::-webkit-scrollbar {
            width: 12px;
        }

        #sel_WOJ_TR::-webkit-scrollbar-thumb, #sel_RODZ_TR::-webkit-scrollbar-thumb, #sel_NR_DR::-webkit-scrollbar-thumb {
        background-color: #8888ee;
        border-radius: 6px;
        box-shadow: 2px 2px 4px rgba(80, 80, 80, 0.6);
        }

        #sel_WOJ_TR::-webkit-scrollbar-track, #sel_RODZ_TR::-webkit-scrollbar-track, #sel_NR_DR::-webkit-scrollbar-track {
        background-color: #eeeeff;
        }

        </style>

        <title>Zanieczyszczenie hałasem</title>

    </head>

    <body style="background-image: linear-gradient(to right, #0f0c29, #302b63, #24243e); color: #eeeefe; text-shadow: 1px 1px 2px rgba(80, 80, 80, 0.8)">
        <div id="map">
        </div>
        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script>
        <script src="js/multi-style-layer.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="js/leaflet-measure.js"></script>
        <script src="js/tailDT.js"></script>
        <script src="js/nouislider.min.js"></script>
        <script src="js/wNumb.js"></script>
        <script src="data/wojewodztwa_1.js"></script>
        <script src="data/koleje_halas_2.js"></script>
        <script src="data/autostrady_halas_3.js"></script>
        <script src="data/Koleje_4.js"></script>
        <script src="data/Autostrady_5.js"></script>
        <script>
        
        var map = L.map('map', {
            zoomControl:true, maxZoom:19, minZoom:7
        }).fitBounds([[48.55634564094902,12.260433429337109],[55.32241067000147,30.06164100344473]]);

        var hash = new L.Hash(map);

        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a> &middot; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> &middot; <span class="legend">Układ współrzędnych mapy: PL-1992</span> &middot; <span class="legend">Autor: Michał Cierlik</span>');

        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});

        var scale = L.control.scale(); 
        scale.addTo(map); 

        var measureControl = new L.Control.Measure({
            position: 'topleft',
            primaryLengthUnit: 'meters',
            secondaryLengthUnit: 'kilometers',
            primaryAreaUnit: 'sqmeters',
            secondaryAreaUnit: 'hectares',
            activeColor: '#6e7fdd',
            completedColor: '#5463b8'
        });

        measureControl.addTo(map);
        document.getElementsByClassName('leaflet-control-measure-toggle')[0]
        .innerHTML = '';
        document.getElementsByClassName('leaflet-control-measure-toggle')[0]
        .className += ' fas fa-ruler';

        var bounds_group = new L.featureGroup([]);

        function setBounds() {
            map.setMaxBounds(map.getBounds());
        }

        map.createPane('pane_OpenStreetMap_0');
        map.getPane('pane_OpenStreetMap_0').style.zIndex = 400;

        var layer_OpenStreetMap_0 = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            pane: 'pane_OpenStreetMap_0',
            opacity: 1.0,
            attribution: '',
            minZoom: 7,
            maxZoom: 19,
            minNativeZoom: 0,
            maxNativeZoom: 19
        });

        layer_OpenStreetMap_0;
        map.addLayer(layer_OpenStreetMap_0);

        function pop_wojewodztwa_1(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">WOJEWÓDZTWO</th>\
                        <td>' + (feature.properties['NAZ_WOJ'] !== null ? autolinker.link(feature.properties['NAZ_WOJ'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">POWIERZCHNIA [KM^2]</th>\
                        <td>' + (feature.properties['AREA_WOJ_K'] !== null ? autolinker.link(feature.properties['AREA_WOJ_K'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_wojewodztwa_1_0() {
            return {
                pane: 'pane_wojewodztwa_1',
                opacity: 1,
                color: 'rgba(100,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(125,139,143,0.0)',
                interactive: true,
            }
        }

        map.createPane('pane_wojewodztwa_1');
        map.getPane('pane_wojewodztwa_1').style.zIndex = 401;
        map.getPane('pane_wojewodztwa_1').style['mix-blend-mode'] = 'normal';

        var layer_wojewodztwa_1 = new L.geoJson(json_wojewodztwa_1, {
            attribution: '',
            interactive: true,
            dataVar: 'json_wojewodztwa_1',
            layerName: 'layer_wojewodztwa_1',
            pane: 'pane_wojewodztwa_1',
            onEachFeature: pop_wojewodztwa_1,
            style: style_wojewodztwa_1_0,
        });

        bounds_group.addLayer(layer_wojewodztwa_1);
        map.addLayer(layer_wojewodztwa_1);

        function pop_koleje_halas_2(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">RODZAJ LINI KOLEJOWEJ</th>\
                        <td>' + (feature.properties['RODZ_TR'] !== null ? autolinker.link(feature.properties['RODZ_TR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">WOJEWÓDZTWO</th>\
                        <td>' + (feature.properties['WOJ_TR'] !== null ? autolinker.link(feature.properties['WOJ_TR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">DŁUGOŚĆ LINI KOLEJOWEJ [KM]</th>\
                        <td>' + (feature.properties['DLG_TR_KM'] !== null ? autolinker.link(feature.properties['DLG_TR_KM'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">POWIERZCHNIA HAŁASU [KM^2]</th>\
                        <td>' + (feature.properties['AREA_TR_NS'] !== null ? autolinker.link(feature.properties['AREA_TR_NS'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_koleje_halas_2_0() {
            return {
                pane: 'pane_koleje_halas_2',
                opacity: 1,
                color: 'rgba(35,35,35,0.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(242,88,88,0.6)',
                interactive: true,
            }
        }

        map.createPane('pane_koleje_halas_2');
        map.getPane('pane_koleje_halas_2').style.zIndex = 402;
        map.getPane('pane_koleje_halas_2').style['mix-blend-mode'] = 'normal';

        var layer_koleje_halas_2 = new L.geoJson(json_koleje_halas_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_koleje_halas_2',
            layerName: 'layer_koleje_halas_2',
            pane: 'pane_koleje_halas_2',
            onEachFeature: pop_koleje_halas_2,
            style: style_koleje_halas_2_0,
        });

        bounds_group.addLayer(layer_koleje_halas_2);
        map.addLayer(layer_koleje_halas_2);

        function pop_autostrady_halas_3(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">KLASA DROGI</th>\
                        <td>' + (feature.properties['KL_DR'] !== null ? autolinker.link(feature.properties['KL_DR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">NUMER DROGI</th>\
                        <td>' + (feature.properties['NR_DR'] !== null ? autolinker.link(feature.properties['NR_DR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">DŁUGOŚĆ DROGI [KM]</th>\
                        <td>' + (feature.properties['DLG_DR_KM'] !== null ? autolinker.link(feature.properties['DLG_DR_KM'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">POWIERZCHNIA HAŁASU [KM^2]</th>\
                        <td>' + (feature.properties['AREA_NS_DR'] !== null ? autolinker.link(feature.properties['AREA_NS_DR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_autostrady_halas_3_0() {
            return {
                pane: 'pane_autostrady_halas_3',
                opacity: 1,
                color: 'rgba(35,35,35,0.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(245,155,70,0.6)',
                interactive: true,
            }
        }

        map.createPane('pane_autostrady_halas_3');
        map.getPane('pane_autostrady_halas_3').style.zIndex = 403;
        map.getPane('pane_autostrady_halas_3').style['mix-blend-mode'] = 'normal';

        var layer_autostrady_halas_3 = new L.geoJson(json_autostrady_halas_3, {
            attribution: '',
            interactive: true,
            dataVar: 'json_autostrady_halas_3',
            layerName: 'layer_autostrady_halas_3',
            pane: 'pane_autostrady_halas_3',
            onEachFeature: pop_autostrady_halas_3,
            style: style_autostrady_halas_3_0,
        });

        bounds_group.addLayer(layer_autostrady_halas_3);
        map.addLayer(layer_autostrady_halas_3);

        function pop_Koleje_4(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">RODZAJ LINI KOLEJOWEJ</th>\
                        <td>' + (feature.properties['RODZ_TR'] !== null ? autolinker.link(feature.properties['RODZ_TR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">WOJEWÓDZTWO</th>\
                        <td>' + (feature.properties['WOJ_TR'] !== null ? autolinker.link(feature.properties['WOJ_TR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">DŁUGOŚĆ LINI KOLEJOWEJ [KM^2]</th>\
                        <td>' + (feature.properties['DLG_TR_KM'] !== null ? autolinker.link(feature.properties['DLG_TR_KM'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_Koleje_4_0() {
            return {
                pane: 'pane_Koleje_4',
                opacity: 1,
                color: 'rgba(255,255,255,1.0)',
                dashArray: '',
                lineCap: 'round',
                lineJoin: 'round',
                weight: 3.0,
                fillOpacity: 0,
                interactive: true,
            }
        }

        function style_Koleje_4_1() {
            return {
                pane: 'pane_Koleje_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'round',
                lineJoin: 'round',
                weight: 2.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_Koleje_4');
        map.getPane('pane_Koleje_4').style.zIndex = 404;
        map.getPane('pane_Koleje_4').style['mix-blend-mode'] = 'normal';

        var layer_Koleje_4 = new L.geoJson.multiStyle(json_Koleje_4, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Koleje_4',
            layerName: 'layer_Koleje_4',
            pane: 'pane_Koleje_4',
            onEachFeature: pop_Koleje_4,
            styles: [style_Koleje_4_0,style_Koleje_4_1,]
        });

        bounds_group.addLayer(layer_Koleje_4);
        map.addLayer(layer_Koleje_4);

        function pop_Autostrady_5(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">KLASA DROGI</th>\
                        <td>' + (feature.properties['KL_DR'] !== null ? autolinker.link(feature.properties['KL_DR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">MATERIAŁ NAWIERZCHNI</th>\
                        <td>' + (feature.properties['MATNAW_DR'] !== null ? autolinker.link(feature.properties['MATNAW_DR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">LICZBA JEZDNI</th>\
                        <td>' + (feature.properties['L_JEZ_DR'] !== null ? autolinker.link(feature.properties['L_JEZ_DR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">NUMER DROGI</th>\
                        <td>' + (feature.properties['NR_DR'] !== null ? autolinker.link(feature.properties['NR_DR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">DŁUGOŚĆ DROGI [KM]</th>\
                        <td>' + (feature.properties['DLG_DR_KM'] !== null ? autolinker.link(feature.properties['DLG_DR_KM'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_Autostrady_5_0() {
            return {
                pane: 'pane_Autostrady_5',
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'round',
                lineJoin: 'round',
                weight: 5.0,
                fillOpacity: 0,
                interactive: true,
            }
        }

        function style_Autostrady_5_1() {
            return {
                pane: 'pane_Autostrady_5',
                opacity: 1,
                color: 'rgba(255,96,17,1.0)',
                dashArray: '',
                lineCap: 'round',
                lineJoin: 'round',
                weight: 3.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_Autostrady_5');
        map.getPane('pane_Autostrady_5').style.zIndex = 405;
        map.getPane('pane_Autostrady_5').style['mix-blend-mode'] = 'normal';

        var layer_Autostrady_5 = new L.geoJson.multiStyle(json_Autostrady_5, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Autostrady_5',
            layerName: 'layer_Autostrady_5',
            pane: 'pane_Autostrady_5',
            onEachFeature: pop_Autostrady_5,
            styles: [style_Autostrady_5_0,style_Autostrady_5_1,]
        });
        bounds_group.addLayer(layer_Autostrady_5);
        map.addLayer(layer_Autostrady_5);

        var baseMaps = {};
        L.control.layers(baseMaps,{'<img src="legend/Autostrady_5.png" /> <span class="legend">Autostrady</span>': layer_Autostrady_5,'<img src="legend/Koleje_4.png" /> <span class="legend">Linie kolejowe<span/>': layer_Koleje_4,'<img src="legend/autostrady_halas_3.png" /> <span class="legend">Hałas autostradowy<span/>': layer_autostrady_halas_3,'<img src="legend/koleje_halas_2.png" /> <span class="legend">Hałas kolejowy<span/>': layer_koleje_halas_2,'<img src="legend/wojewodztwa_1.png" /> <span class="legend">Granice województw<span/>': layer_wojewodztwa_1,'<span class="legend">Podkład OpenStreetMap<span/>': layer_OpenStreetMap_0,},{collapsed:false}).addTo(map);
        setBounds();

        var mapDiv = document.getElementById('map');
        mapDiv.style.height = "95%";

        var row = document.createElement('div');
        row.className="row";
        row.id="all";
        row.style.height = "100%";

        var col1 = document.createElement('div');
        col1.className="col9";
        col1.id = "mapWindow";
        col1.style.height = "100%";
        col1.style.width = "80%";
        col1.style.display = "inline-block";

        var col2 = document.createElement('div');
        col2.className="col3";
        col2.id = "menu";
        col2.style.display = "inline-block";

        mapDiv.parentNode.insertBefore(row, mapDiv);
        document.getElementById("all").appendChild(col1);
        document.getElementById("all").appendChild(col2);

        var map_title = document.createElement('div');
        map_title.innerHTML  = 'Zanieczyszczenie hałasem w Polsce wynikające z lini kolejowych i autostrad';
        map_title.className = 'maptitle';
        map_title.style.height = "5%";
        
        col1.appendChild(map_title)
        col1.appendChild(mapDiv)

        var Filters = {"AREA_TR_NS": "int","AREA_NS_DR": "int","DLG_DR_KM": "int","DLG_TR_KM": "int","NR_DR": "str","RODZ_TR": "str","WOJ_TR": "str"};

        function filterFunc() {
          map.eachLayer(function(lyr){
          if ("options" in lyr && "dataVar" in lyr["options"]){
            features = this[lyr["options"]["dataVar"]].features.slice(0);
            try{
              for (key in Filters){
                keyS = key.replace(/[^a-zA-Z0-9_]/g, "")
                if (Filters[key] == "str" || Filters[key] == "bool"){
                  var selection = [];
                  var options = document.getElementById("sel_" + keyS).options
                  for (var i=0; i < options.length; i++) {
                    if (options[i].selected) selection.push(options[i].value);
                  }
                    try{
                      if (key in features[0].properties){
                        for (i = features.length - 1;
                          i >= 0; --i){
                          if (selection.indexOf(
                          features[i].properties[key])<0
                          && selection.length>0) {
                          features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                  }
                }
                if (Filters[key] == "int"){
                  sliderVals =  document.getElementById(
                    "div_" + keyS).noUiSlider.get();
                  try{
                    if (key in features[0].properties){
                    for (i = features.length - 1; i >= 0; --i){
                      if (parseInt(features[i].properties[key])
                          < sliderVals[0]
                          || parseInt(features[i].properties[key])
                          > sliderVals[1]){
                            features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                    }
                  }
                if (Filters[key] == "real"){
                  sliderVals =  document.getElementById(
                    "div_" + keyS).noUiSlider.get();
                  try{
                    if (key in features[0].properties){
                    for (i = features.length - 1; i >= 0; --i){
                      if (features[i].properties[key]
                          < sliderVals[0]
                          || features[i].properties[key]
                          > sliderVals[1]){
                            features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                    }
                  }
                if (Filters[key] == "date"
                  || Filters[key] == "datetime"
                  || Filters[key] == "time"){
                  try{
                    if (key in features[0].properties){
                      HTMLkey = key.replace(/[&\/\\#,+()$~%.'":*?<>{} ]/g, '');
                      startdate = document.getElementById("dat_" +
                        HTMLkey + "_date1").value.replace(" ", "T");
                      enddate = document.getElementById("dat_" +
                        HTMLkey + "_date2").value.replace(" ", "T");
                      for (i = features.length - 1; i >= 0; --i){
                        if (features[i].properties[key] < startdate
                          || features[i].properties[key] > enddate){
                          features.splice(i,1);
                        }
                      }
                    }
                  } catch(err){
                  }
                }
              }
            } catch(err){
            }
          this[lyr["options"]["layerName"]].clearLayers();
          this[lyr["options"]["layerName"]].addData(features);
          }
          })
        }
            document.getElementById("menu").appendChild(
                document.createElement("div"));

            var menu_header = document.createElement('div');
            menu_header.innerHTML  = 'FILTRY';
            menu_header.className = 'menuheader';
            document.getElementById("menu").appendChild(menu_header);

            var lab_AREA_TR_NS = document.createElement('div');
            lab_AREA_TR_NS.innerHTML  = 'POWIERZCHNIA STREFY HAŁASU LINI KOLEJOWYCH [KM^2]: <span id="val_AREA_TR_NS"></span>';
            lab_AREA_TR_NS.className = 'filterlabel';
            document.getElementById("menu").appendChild(lab_AREA_TR_NS);

            var reset_AREA_TR_NS = document.createElement('div');
            reset_AREA_TR_NS.innerHTML = 'wyczyść filter';
            reset_AREA_TR_NS.className = 'filterlabel';
            lab_AREA_TR_NS.className = 'filterlabel';
            reset_AREA_TR_NS.onclick = function() {
                sel_AREA_TR_NS.noUiSlider.reset();
            };
            document.getElementById("menu").appendChild(reset_AREA_TR_NS);
            
            var div_AREA_TR_NS = document.createElement("div");
            div_AREA_TR_NS.id = "div_AREA_TR_NS";
            div_AREA_TR_NS.className = "slider";
            document.getElementById("menu").appendChild(div_AREA_TR_NS);

            var sel_AREA_TR_NS = document.getElementById('div_AREA_TR_NS');
            noUiSlider.create(sel_AREA_TR_NS, {
                connect: true,
                start: [183, 2487],
                step: 1,
                format: wNumb({
                    decimals: 0,
                    }),
                range: {
                min: 183,
                max: 2487
                }
            });
            sel_AREA_TR_NS.noUiSlider.on('update', function (values) {
            filterVals =[];
            for (value in values){
            filterVals.push(parseInt(value))
            }
            val_AREA_TR_NS = document.getElementById('val_AREA_TR_NS');
            val_AREA_TR_NS.innerHTML = values.join(' - ');
                filterFunc()
            });
            document.getElementById("menu").appendChild(
                document.createElement("div"));

            var lab_AREA_NS_DR = document.createElement('div');
            lab_AREA_NS_DR.innerHTML  = 'POWIERZCHNIA STREFY HAŁASU AUTOSTRAD [KM^2]: <span id="val_AREA_NS_DR"></span>';
            lab_AREA_NS_DR.className = 'filterlabel';
            document.getElementById("menu").appendChild(lab_AREA_NS_DR);

            var reset_AREA_NS_DR = document.createElement('div');
            reset_AREA_NS_DR.innerHTML = 'wyczyść filter';
            reset_AREA_NS_DR.className = 'filterlabel';
            lab_AREA_NS_DR.className = 'filterlabel';
            reset_AREA_NS_DR.onclick = function() {
                sel_AREA_NS_DR.noUiSlider.reset();
            };
            document.getElementById("menu").appendChild(reset_AREA_NS_DR);
            
            var div_AREA_NS_DR = document.createElement("div");
            div_AREA_NS_DR.id = "div_AREA_NS_DR";
            div_AREA_NS_DR.className = "slider";
            document.getElementById("menu").appendChild(div_AREA_NS_DR);

            var sel_AREA_NS_DR = document.getElementById('div_AREA_NS_DR');
            noUiSlider.create(sel_AREA_NS_DR, {
                connect: true,
                start: [33, 940],
                step: 1,
                format: wNumb({
                    decimals: 0,
                    }),
                range: {
                min: 33,
                max: 940
                }
            });
            sel_AREA_NS_DR.noUiSlider.on('update', function (values) {
            filterVals =[];
            for (value in values){
            filterVals.push(parseInt(value))
            }
            val_AREA_NS_DR = document.getElementById('val_AREA_NS_DR');
            val_AREA_NS_DR.innerHTML = values.join(' - ');
                filterFunc()
            });
            document.getElementById("menu").appendChild(
                document.createElement("div"));

                var lab_DLG_DR_KM = document.createElement('div');
            lab_DLG_DR_KM.innerHTML  = 'DŁUGOŚĆ AUTOSTRAD [KM^2]: <span id="val_DLG_DR_KM"></span>';
            lab_DLG_DR_KM.className = 'filterlabel';
            document.getElementById("menu").appendChild(lab_DLG_DR_KM);

            var reset_DLG_DR_KM = document.createElement('div');
            reset_DLG_DR_KM.innerHTML = 'wyczyść filter';
            reset_DLG_DR_KM.className = 'filterlabel';
            lab_DLG_DR_KM.className = 'filterlabel';
            reset_DLG_DR_KM.onclick = function() {
                sel_DLG_DR_KM.noUiSlider.reset();
            };
            document.getElementById("menu").appendChild(reset_DLG_DR_KM);
            
            var div_DLG_DR_KM = document.createElement("div");
            div_DLG_DR_KM.id = "div_DLG_DR_KM";
            div_DLG_DR_KM.className = "slider";
            document.getElementById("menu").appendChild(div_DLG_DR_KM);

            var sel_DLG_DR_KM = document.getElementById('div_DLG_DR_KM');
            noUiSlider.create(sel_DLG_DR_KM, {
                connect: true,
                start: [22, 672],
                step: 1,
                format: wNumb({
                    decimals: 0,
                    }),
                range: {
                min: 22,
                max: 672
                }
            });
            sel_DLG_DR_KM.noUiSlider.on('update', function (values) {
            filterVals =[];
            for (value in values){
            filterVals.push(parseInt(value))
            }
            val_DLG_DR_KM = document.getElementById('val_DLG_DR_KM');
            val_DLG_DR_KM.innerHTML = values.join(' - ');
                filterFunc()
            });
            document.getElementById("menu").appendChild(
                document.createElement("div"));

            var lab_DLG_TR_KM = document.createElement('div');
            lab_DLG_TR_KM.innerHTML  = 'DŁUGOŚĆ LINI KOLEJOWYCH: <span id="val_DLG_TR_KM"></span>';
            lab_DLG_TR_KM.className = 'filterlabel';
            document.getElementById("menu").appendChild(lab_DLG_TR_KM);

            var reset_DLG_TR_KM = document.createElement('div');
            reset_DLG_TR_KM.innerHTML = 'wyczyść filter';
            reset_DLG_TR_KM.className = 'filterlabel';
            lab_DLG_TR_KM.className = 'filterlabel';
            reset_DLG_TR_KM.onclick = function() {
                sel_DLG_TR_KM.noUiSlider.reset();
            };
            document.getElementById("menu").appendChild(reset_DLG_TR_KM);
            
            var div_DLG_TR_KM = document.createElement("div");
            div_DLG_TR_KM.id = "div_DLG_TR_KM";
            div_DLG_TR_KM.className = "slider";
            document.getElementById("menu").appendChild(div_DLG_TR_KM);

            var sel_DLG_TR_KM = document.getElementById('div_DLG_TR_KM');
            noUiSlider.create(sel_DLG_TR_KM, {
                connect: true,
                start: [85, 2588],
                step: 1,
                format: wNumb({
                    decimals: 0,
                    }),
                range: {
                min: 85,
                max: 2588
                }
            });
            sel_DLG_TR_KM.noUiSlider.on('update', function (values) {
            filterVals =[];
            for (value in values){
            filterVals.push(parseInt(value))
            }
            val_DLG_TR_KM = document.getElementById('val_DLG_TR_KM');
            val_DLG_TR_KM.innerHTML = values.join(' - ');
                filterFunc()
            });
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            
            var div_NR_DR = document.createElement('div');
            div_NR_DR.id = "div_NR_DR";
            div_NR_DR.className= "filterselect";
            document.getElementById("menu").appendChild(div_NR_DR);
            sel_NR_DR = document.createElement('select');
            sel_NR_DR.multiple = true;
            sel_NR_DR.size = 6;
            sel_NR_DR.id = "sel_NR_DR";

            var lab_NR_DR = document.createElement('div');
            lab_NR_DR.innerHTML = 'NUMER DROGI';
            lab_NR_DR.className = 'filterlabel';
            div_NR_DR.appendChild(lab_NR_DR);

            var reset_NR_DR = document.createElement('div');
            reset_NR_DR.innerHTML = 'wyczyść filter';
            reset_NR_DR.className = 'filterlabel';
            reset_NR_DR.onclick = function() {
                var options = document.getElementById("sel_NR_DR").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_NR_DR.appendChild(reset_NR_DR);
            document.getElementById("menu").appendChild(
                document.createElement("div"));

            var NR_DR_options_str = "";
            sel_NR_DR.onchange = function(){filterFunc()};
            NR_DR_options_str  += '<option value="A18|E36">A18|E36</option>';
            NR_DR_options_str  += '<option value="A1|E75">A1|E75</option>';
            NR_DR_options_str  += '<option value="A2|E30">A2|E30</option>';
            NR_DR_options_str  += '<option value="A4|E40">A4|E40</option>';
            NR_DR_options_str  += '<option value="A6|E28">A6|E28</option>';
            NR_DR_options_str  += '<option value="A8|E67">A8|E67</option>';
            sel_NR_DR.innerHTML = NR_DR_options_str;
            div_NR_DR.appendChild(sel_NR_DR);
            
            var div_RODZ_TR = document.createElement('div');
            div_RODZ_TR.id = "div_RODZ_TR";
            div_RODZ_TR.className= "filterselect";
            document.getElementById("menu").appendChild(div_RODZ_TR);
            sel_RODZ_TR = document.createElement('select');
            sel_RODZ_TR.multiple = true;
            sel_RODZ_TR.size = 2;
            sel_RODZ_TR.id = "sel_RODZ_TR";

            var lab_RODZ_TR = document.createElement('div');
            lab_RODZ_TR.innerHTML = 'LINIE KOLEJOWE - TRAKCJA';
            lab_RODZ_TR.className = 'filterlabel';
            div_RODZ_TR.appendChild(lab_RODZ_TR);

            var reset_RODZ_TR = document.createElement('div');
            reset_RODZ_TR.innerHTML = 'wyczyść filter';
            reset_RODZ_TR.className = 'filterlabel';
            reset_RODZ_TR.onclick = function() {
                var options = document.getElementById("sel_RODZ_TR").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };

            div_RODZ_TR.appendChild(reset_RODZ_TR);
            document.getElementById("menu").appendChild(
                document.createElement("div"));

            var RODZ_TR_options_str = "";
            sel_RODZ_TR.onchange = function(){filterFunc()};
            RODZ_TR_options_str  += '<option value="niezelektryfikowana">NIE</option>';
            RODZ_TR_options_str  += '<option value="zelektryfikowana">TAK</option>';
            sel_RODZ_TR.innerHTML = RODZ_TR_options_str;
            div_RODZ_TR.appendChild(sel_RODZ_TR);
            
            var div_WOJ_TR = document.createElement('div');
            div_WOJ_TR.id = "div_WOJ_TR";
            div_WOJ_TR.className= "filterselect";
            document.getElementById("menu").appendChild(div_WOJ_TR);
            sel_WOJ_TR = document.createElement('select');
            sel_WOJ_TR.multiple = true;
            sel_WOJ_TR.size = 10;
            sel_WOJ_TR.id = "sel_WOJ_TR";

            var lab_WOJ_TR = document.createElement('div');
            lab_WOJ_TR.innerHTML = 'LINIE KOLEJOWE - WOJEWÓDZTWO';
            lab_WOJ_TR.className = 'filterlabel';
            div_WOJ_TR.appendChild(lab_WOJ_TR);

            var reset_WOJ_TR = document.createElement('div');
            reset_WOJ_TR.innerHTML = 'wyczyść filter';
            reset_WOJ_TR.className = 'filterlabel';
            reset_WOJ_TR.onclick = function() {
                var options = document.getElementById("sel_WOJ_TR").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_WOJ_TR.appendChild(reset_WOJ_TR);

            var WOJ_TR_options_str = "";
            sel_WOJ_TR.onchange = function(){filterFunc()};
            WOJ_TR_options_str  += '<option value="DOLNOŚLĄSKIE">DOLNOŚLĄSKIE</option>';
            WOJ_TR_options_str  += '<option value="KUJAWSKO-POMORSKIE">KUJAWSKO-POMORSKIE</option>';
            WOJ_TR_options_str  += '<option value="LUBELSKIE">LUBELSKIE</option>';
            WOJ_TR_options_str  += '<option value="LUBUSKIE">LUBUSKIE</option>';
            WOJ_TR_options_str  += '<option value="MAZOWIECKIE">MAZOWIECKIE</option>';
            WOJ_TR_options_str  += '<option value="MAŁOPOLSKIE">MAŁOPOLSKIE</option>';
            WOJ_TR_options_str  += '<option value="OPOLSKIE">OPOLSKIE</option>';
            WOJ_TR_options_str  += '<option value="PODKARPACKIE">PODKARPACKIE</option>';
            WOJ_TR_options_str  += '<option value="PODLASKIE">PODLASKIE</option>';
            WOJ_TR_options_str  += '<option value="POMORSKIE">POMORSKIE</option>';
            WOJ_TR_options_str  += '<option value="WARMIŃSKO-MAZURSKIE">WARMIŃSKO-MAZURSKIE</option>';
            WOJ_TR_options_str  += '<option value="WIELKOPOLSKIE">WIELKOPOLSKIE</option>';
            WOJ_TR_options_str  += '<option value="ZACHODNIOPOMORSKIE">ZACHODNIOPOMORSKIE</option>';
            WOJ_TR_options_str  += '<option value="ŁÓDZKIE">ŁÓDZKIE</option>';
            WOJ_TR_options_str  += '<option value="ŚLĄSKIE">ŚLĄSKIE</option>';
            WOJ_TR_options_str  += '<option value="ŚWIĘTOKRZYSKIE">ŚWIĘTOKRZYSKIE</option>';
            sel_WOJ_TR.innerHTML = WOJ_TR_options_str;
            div_WOJ_TR.appendChild(sel_WOJ_TR);
        
        resetLabels([layer_Autostrady_5]);
        map.on("zoomend", function(){
            resetLabels([layer_Autostrady_5]);
        });

        map.on("layeradd", function(){
            resetLabels([layer_Autostrady_5]);
        });

        map.on("layerremove", function(){
            resetLabels([layer_Autostrady_5]);
        });
        </script>
    </body>
</html>
